{"mappings":"AAEA,MAAMA,EAAO,CACZC,MAAOC,SAASC,cAAc,eAC9BC,YAAaF,SAASC,cAAc,iBACpCE,YAAaH,SAASC,cAAc,kBAwCrC,SAASG,EAAWC,GAKnB,GAJAC,QAAQC,IAAIF,EAAKG,QAEjBC,IAEIJ,EAAKG,OAAS,GACjBF,QAAQI,IAAI,mEACN,GAAIL,EAAKG,OAAS,GAAKH,EAAKG,QAAU,GAAI,CAEhD,MAAMG,EAAkBN,EACtBO,KAAIC,GACG,+DACmBA,EAAQC,MAAMC,aAAaF,EAAQC,MAAME,sBAC/DH,EAAQI,KAAKC,4BAGjBC,KAAK,IAEPrB,EAAKI,YAAYkB,UAAYT,C,MACH,IAAhBN,EAAKG,SAEfV,EAAKK,YAAYiB,UAAY,kEACHf,EAAK,GAAGS,MAAMC,aACvCV,EAAK,GAAGS,MAAME,wCACsBX,EAAK,GAAGY,KAAKC,yIAI9Cb,EAAK,GAAGgB,oIAIRhB,EAAK,GAAGiB,sIAIRC,OAAOC,OAAOnB,EAAK,GAAGoB,WAAWN,KAAK,oB,CAK5C,SAASV,IACRX,EAAKI,YAAYkB,UAAY,GAC7BtB,EAAKK,YAAYiB,UAAY,E,CA5E9BtB,EAAKC,MAAM2B,iBAAiB,SAE5B,SAAqBC,GACpB,MAAMC,EAAaD,EAAEE,OAAOC,MAAMC,OAE9BH,EAAWpB,QAAU,GACxBmB,EAAEE,OAAOG,aAAa,QAASJ,GAUjC,SAAwBA,GACvBK,MAAM,uCAAaL,oDACjBM,MAAKC,IACL,IAAKA,EAASC,GACb,MAAM,IAAIC,MAAMF,EAASG,QAE1B,OAAOH,EAASI,MAAM,IAEtBL,KAAK9B,GACLoC,OAAMC,IACNnC,QAAQI,IAAI+B,GACZnC,QAAQI,IAAI,4CACZD,IACAL,EAAW,GAAG,G,CArBfsC,CAAed,KAEfnB,IACAL,EAAW,IACXuB,EAAEE,OAAOc,gBAAgB,S","sources":["src/index.js"],"sourcesContent":["import './css/styles.css';\n\nconst refs = {\n\tinput: document.querySelector('#search-box'),\n\tcountryList: document.querySelector('.country-list'),\n\tcountryInfo: document.querySelector('.country-info'),\n};\n\nconst DEBOUNCE_DELAY = 300;\nconst API_URL = 'https://restcountries.com/v3.1/name/';\nconst filterCountries = 'fields=name,capital,population,flags,languages';\n\nrefs.input.addEventListener('input', handleInput);\n\nfunction handleInput(e) {\n\tconst inputValue = e.target.value.trim();\n\n\tif (inputValue.length >= 2) {\n\t\te.target.setAttribute('value', inputValue);\n\n\t\tfetchCountries(inputValue);\n\t} else {\n\t\tcleanUp();\n\t\tmakeMarkup([]);\n\t\te.target.removeAttribute('value');\n\t}\n}\n\nfunction fetchCountries(inputValue) {\n\tfetch(`${API_URL}${inputValue}?${filterCountries}`)\n\t\t.then(response => {\n\t\t\tif (!response.ok) {\n\t\t\t\tthrow new Error(response.status);\n\t\t\t}\n\t\t\treturn response.json();\n\t\t})\n\t\t.then(makeMarkup)\n\t\t.catch(error => {\n\t\t\tconsole.log(error);\n\t\t\tconsole.log('Oops, there is no country with that name');\n\t\t\tcleanUp();\n\t\t\tmakeMarkup([]);\n\t\t});\n}\n\nfunction makeMarkup(data) {\n\tconsole.dir(data.length);\n\n\tcleanUp();\n\n\tif (data.length > 10) {\n\t\tconsole.log('Too many matches found. Please enter a more specific name.');\n\t} else if (data.length > 1 && data.length <= 10) {\n\t\t// refs.countryInfo.innerHTML = '';\n\t\tconst countriesBundle = data\n\t\t\t.map(country => {\n\t\t\t\treturn `<li class=\"country-item\">\n\t\t\t\t\t<img class=\"flag\" src=\"${country.flags.svg}\" alt=\"${country.flags.alt}\">\n\t\t\t\t\t\t${country.name.official}\n\t\t\t\t</li>`;\n\t\t\t})\n\t\t\t.join('');\n\n\t\trefs.countryList.innerHTML = countriesBundle;\n\t} else if (data.length === 1) {\n\t\t// refs.countryList.innerHTML = '';\n\t\trefs.countryInfo.innerHTML = `<div class=\"country-info__head\">\n\t\t\t<img class=\"flag\" src=\"${data[0].flags.svg}\" alt=\"${\n\t\t\tdata[0].flags.alt\n\t\t}\"><h1 class=\"country-info__title\">${data[0].name.official}</h1>\n\t\t\t</div>\n\t\t\t<p class=\"country-info__text\">\n\t\t\t\t<span class=\"country-info__bold\">Capital: </span>\n\t\t\t\t${data[0].capital}\n\t\t\t</p>\n\t\t\t<p class=\"country-info__text\">\n\t\t\t\t<span class=\"country-info__bold\">Population: </span>\n\t\t\t\t${data[0].population}\n\t\t\t</p>\n\t\t\t<p class=\"country-info__text\">\n\t\t\t\t<span class=\"country-info__bold\">Languages: </span>\n\t\t\t\t${Object.values(data[0].languages).join(', ')}\n\t\t\t</p>`;\n\t}\n}\n\nfunction cleanUp() {\n\trefs.countryList.innerHTML = '';\n\trefs.countryInfo.innerHTML = '';\n}\n"],"names":["$1f0dc3b9307be026$var$refs","input","document","querySelector","countryList","countryInfo","$1f0dc3b9307be026$var$makeMarkup","data","console","dir","length","$1f0dc3b9307be026$var$cleanUp","log","countriesBundle","map","country","flags","svg","alt","name","official","join","innerHTML","capital","population","Object","values","languages","addEventListener","e","inputValue","target","value","trim","setAttribute","fetch","then","response","ok","Error","status","json","catch","error","$1f0dc3b9307be026$var$fetchCountries","removeAttribute"],"version":3,"file":"index.82f7a9af.js.map"}
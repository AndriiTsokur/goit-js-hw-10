{"mappings":"YAEA,IAAMA,EAAO,CACZC,MAAOC,SAASC,cAAc,eAC9BC,YAAaF,SAASC,cAAc,iBACpCE,YAAaH,SAASC,cAAc,kBAI/BG,EAAU,uCACVC,EAAkB,iDAmCxB,SAASC,EAAWC,GAKnB,GAJAC,QAAQC,IAAIF,EAAKG,QAEjBC,IAEIJ,EAAKG,OAAS,GACjBF,QAAQI,IAAI,mEACN,GAAIL,EAAKG,OAAS,GAAKH,EAAKG,QAAU,GAAI,CAEhD,IAAMG,EAAkBN,EACtBO,KAAI,SAAAC,GACJ,MAAO,+DAC8CC,OAA3BD,EAAQE,MAAMC,IAAI,WACxCF,OADiDD,EAAQE,MAAME,IAAI,oBAC7CH,OAAtBD,EAAQK,KAAKC,SAAS,kB,IAG1BC,KAAK,IAEPxB,EAAKI,YAAYqB,UAAYV,C,MACH,IAAhBN,EAAKG,SAEfZ,EAAKK,YAAYoB,UAAY,kEAE5BP,OADyBT,EAAK,GAAGU,MAAMC,IAAI,WAEPF,OADpCT,EAAK,GAAGU,MAAME,IACd,sCAIGH,OAJiCT,EAAK,GAAGa,KAAKC,SAAS,kIAQvDL,OAJAT,EAAK,GAAGiB,QAAQ,8HAQhBR,OAJAT,EAAK,GAAGkB,WAAW,6HAIyBT,OAA5CU,OAAOC,OAAOpB,EAAK,GAAGqB,WAAWN,KAAK,MAAM,gB,CAKlD,SAASX,IACRb,EAAKI,YAAYqB,UAAY,GAC7BzB,EAAKK,YAAYoB,UAAY,E,CA5E9BzB,EAAKC,MAAM8B,iBAAiB,SAE5B,SAAqBC,GACpB,IAAMC,EAAaD,EAAEE,OAAOC,MAAMC,OAE9BH,EAAWrB,QAAU,GACxBoB,EAAEE,OAAOG,aAAa,QAASJ,GAUjC,SAAwBA,GACvBK,MAAM,GAAapB,OAAVZ,GAAwBY,OAAde,EAAW,KAAmBf,OAAhBX,IAC/BgC,MAAK,SAAAC,GACL,IAAKA,EAASC,GACb,MAAM,IAAIC,MAAMF,EAASG,QAE1B,OAAOH,EAASI,M,IAEhBL,KAAK/B,GACLqC,OAAM,SAAAC,GACNpC,QAAQI,IAAIgC,GACZpC,QAAQI,IAAI,4CACZD,IACAL,EAAW,G,IArBZuC,CAAed,KAEfpB,IACAL,EAAW,IACXwB,EAAEE,OAAOc,gBAAgB,S","sources":["src/index.js"],"sourcesContent":["import './css/styles.css';\n\nconst refs = {\n\tinput: document.querySelector('#search-box'),\n\tcountryList: document.querySelector('.country-list'),\n\tcountryInfo: document.querySelector('.country-info'),\n};\n\nconst DEBOUNCE_DELAY = 300;\nconst API_URL = 'https://restcountries.com/v3.1/name/';\nconst filterCountries = 'fields=name,capital,population,flags,languages';\n\nrefs.input.addEventListener('input', handleInput);\n\nfunction handleInput(e) {\n\tconst inputValue = e.target.value.trim();\n\n\tif (inputValue.length >= 2) {\n\t\te.target.setAttribute('value', inputValue);\n\n\t\tfetchCountries(inputValue);\n\t} else {\n\t\tcleanUp();\n\t\tmakeMarkup([]);\n\t\te.target.removeAttribute('value');\n\t}\n}\n\nfunction fetchCountries(inputValue) {\n\tfetch(`${API_URL}${inputValue}?${filterCountries}`)\n\t\t.then(response => {\n\t\t\tif (!response.ok) {\n\t\t\t\tthrow new Error(response.status);\n\t\t\t}\n\t\t\treturn response.json();\n\t\t})\n\t\t.then(makeMarkup)\n\t\t.catch(error => {\n\t\t\tconsole.log(error);\n\t\t\tconsole.log('Oops, there is no country with that name');\n\t\t\tcleanUp();\n\t\t\tmakeMarkup([]);\n\t\t});\n}\n\nfunction makeMarkup(data) {\n\tconsole.dir(data.length);\n\n\tcleanUp();\n\n\tif (data.length > 10) {\n\t\tconsole.log('Too many matches found. Please enter a more specific name.');\n\t} else if (data.length > 1 && data.length <= 10) {\n\t\t// refs.countryInfo.innerHTML = '';\n\t\tconst countriesBundle = data\n\t\t\t.map(country => {\n\t\t\t\treturn `<li class=\"country-item\">\n\t\t\t\t\t<img class=\"flag\" src=\"${country.flags.svg}\" alt=\"${country.flags.alt}\">\n\t\t\t\t\t\t${country.name.official}\n\t\t\t\t</li>`;\n\t\t\t})\n\t\t\t.join('');\n\n\t\trefs.countryList.innerHTML = countriesBundle;\n\t} else if (data.length === 1) {\n\t\t// refs.countryList.innerHTML = '';\n\t\trefs.countryInfo.innerHTML = `<div class=\"country-info__head\">\n\t\t\t<img class=\"flag\" src=\"${data[0].flags.svg}\" alt=\"${\n\t\t\tdata[0].flags.alt\n\t\t}\"><h1 class=\"country-info__title\">${data[0].name.official}</h1>\n\t\t\t</div>\n\t\t\t<p class=\"country-info__text\">\n\t\t\t\t<span class=\"country-info__bold\">Capital: </span>\n\t\t\t\t${data[0].capital}\n\t\t\t</p>\n\t\t\t<p class=\"country-info__text\">\n\t\t\t\t<span class=\"country-info__bold\">Population: </span>\n\t\t\t\t${data[0].population}\n\t\t\t</p>\n\t\t\t<p class=\"country-info__text\">\n\t\t\t\t<span class=\"country-info__bold\">Languages: </span>\n\t\t\t\t${Object.values(data[0].languages).join(', ')}\n\t\t\t</p>`;\n\t}\n}\n\nfunction cleanUp() {\n\trefs.countryList.innerHTML = '';\n\trefs.countryInfo.innerHTML = '';\n}\n"],"names":["$b8f9b7833fa37166$var$refs","input","document","querySelector","countryList","countryInfo","$b8f9b7833fa37166$var$API_URL","$b8f9b7833fa37166$var$filterCountries","$b8f9b7833fa37166$var$makeMarkup","data","console","dir","length","$b8f9b7833fa37166$var$cleanUp","log","countriesBundle","map","country","concat","flags","svg","alt","name","official","join","innerHTML","capital","population","Object","values","languages","addEventListener","e","inputValue","target","value","trim","setAttribute","fetch","then","response","ok","Error","status","json","catch","error","$b8f9b7833fa37166$var$fetchCountries","removeAttribute"],"version":3,"file":"index.6eaf717e.js.map"}